extends ../../layouts/default 
include ../../mixins/alert.pug
include ../../mixins/select-tree.pug

block main
    
    +alert-error(3500)
    if (role.permissions.includes('products_create'))
        h1(class='mb-4') Tao moi san pham


        form(
            action=`/${prefixAdmin}/products/create`
            id='form-create-product'
            method='POST'
            enctype='multipart/form-data'
        )
            div(class='form-group')
                label(for='title') Tieu de 
                input(
                    type='text'
                    class='form-control'
                    id='title'
                    name='title'
                    required
                )
            div(class='form-group')
                label(for='product_category_id') Danh muc
                
                select(
                    name='product_category_id'
                    id='product_category_id'
                    class='form-control'
                )
                    option(value='') -- Chon danh muc --
                    +select-tree(categories)
                        
            div(class='form-group form-check form-check-inline')
                input(
                    type='radio'
                    class='form-check-input'
                    id='featured1'
                    name='featured'
                    value='1'
                )
                label(for='featured1' class='form-check-label') Noi bat 
            div(class='form-group form-checl form-check-inline')
                input(
                    type='radio'
                    class='form-check-input'
                    id='featured0'
                    name='featured'
                    value='0'
                    checked=true
                )
                label(for='featured0' class='form-check-label') Khong

            div(class='form-group')
                label(for='desc') mo ta 
                textarea(
                    class='form-control'
                    id='desc'
                    name='description'
                    rows='5'
                )

            div(class='form-group')
                label(for='price') Gia
                input(
                    type='number'
                    class='form-control'
                    id='price'
                    name='price'
                    value='0'
                    min='0'
                )
            div(class='form-group')
                label(for='discount') % Giam gia 
                input(
                    type='number'
                    class='form-control'
                    id='discount'
                    name='discountPercentage'
                    value='0'
                    min='0'
                )
            div(class='form-group')
                label(for='stock') So luong 
                input(
                    type='number'
                    class='form-control'
                    id='stock'
                    name='stock'
                    value='0'
                    min='0'
                )
            div(class='form-group' upload-image)
                label(for='thumbnail') Anh 
                input(
                    type='file'
                    class='form-control-file'
                    id='thumbnail'
                    name='thumbnail'
                    accept='image/*'
                    upload-image-input
                )
                img(
                    src=''
                    class='image-preview'
                    upload-image-preview
                )
            div(class='form-group')
                label(for='position') Vi tri 
                input(
                    type='number'
                    class='form-control'
                    id='position'
                    name='position'
                    placeholder='Tu dong tang'
                    min='1'
                )
            div(class='form-group form-check form-check-inline')
                input(
                    type='radio'
                    class='form-check-input'
                    id='statusActive'
                    name='status'
                    value='active'
                    checked
                )
                label(for='statusActive' class='form-check-label') Hoat dong 
            div(class='form-group form-check form-check-inline')
                input(
                    type='radio'
                    class='form-check-input'
                    id='statusInActive'
                    name='status'
                    value='inactive'
                )
                label(for='statusInActive' class='form-check-label') Dung hoat hong 
            div(class='form-group')
                button(
                    type='submit'
                    class='btn btn-primary'
                ) Tao moi